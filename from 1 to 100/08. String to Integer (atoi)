class Solution {
public:
    int myAtoi(string s) {
        long ans = 0, n = 0, sign = 1;
        for(int i = 0;i < s.size();i++){
            if(s[i] >= '0' && s[i] <= '9'){
                ans = ans * 10 + s[i] - 48;
                if(sign * ans > INT_MAX)
                    return INT_MAX;
                if(sign * ans < INT_MIN)
                    return INT_MIN;
                n = 1;
            }else if((n == 0) && (s[i] == '-')){
                sign = -1;
                n = 1;
            }else if((n == 0) && (s[i] == '+')){
                sign = 1;
                n = 1;
            }else if(n == 0 && s[i] == ' '){
                continue;
            }else{
                if(sign == -1)
                    return -ans;
                return ans;
            }
        }
        if(sign == -1)
            return -ans;
        return ans;
    }
};
