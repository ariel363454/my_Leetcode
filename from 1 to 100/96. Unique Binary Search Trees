class Solution {
public:
    int numTrees(int n) {
        int left, right;
        map<long, long> nobst;
        nobst[0] = 1;
        nobst[1] = 1;
        for(int node = 2;node <= n;node++){
            int total = 0;
            for(int root = 1;root <= node;root++){
            left = root - 1;
            right = node - root;
            total += (nobst[left] * nobst[right]);
            }
            nobst[node] = total;
            total = 0;
        }
        return nobst[n];
    }
};
